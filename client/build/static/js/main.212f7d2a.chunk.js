(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,r){e.exports=r(78)},51:function(e,t,r){},73:function(e,t,r){},75:function(e,t,r){},76:function(e,t,r){},77:function(e,t,r){},78:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(33),c=r.n(i),o=r(11),d=r(34),u=r(8),l=r(9),s=r(10),y=(r(51),function(){return a.a.createElement("div",{className:"ui one column centered grid",id:"header-container"},a.a.createElement("h1",{id:"header-text"},"Search a country for its top 10 on Spotify"))}),E=r(36),m=r(37),p=r(40),b=r(38),h=r(41),f=r(14),g=r.n(f),X=r(19),v=r(20),Z=r.n(v),Q=[{country:"argentina",id:"37i9dQZEVXbMMy2roB9myp"},{country:"australia",id:"37i9dQZEVXbJPcfkRz0wJ0"},{country:"austria",id:"37i9dQZEVXbKNHh6NIXu36"},{country:"belgium",id:"37i9dQZEVXbJNSeeHswcKB"},{country:"bolivia",id:"37i9dQZEVXbJqfMFK4d691"},{country:"brazil",id:"37i9dQZEVXbMXbN3EUUhlg"},{country:"bulgaria",id:"37i9dQZEVXbNfM2w2mq1B8"},{country:"canada",id:"37i9dQZEVXbKj23U1GF4IR"},{country:"chile",id:"37i9dQZEVXbL0GavIqMTeb"},{country:"colombia",id:"37i9dQZEVXbOa2lmxNORXQ"},{country:"costa rica",id:"37i9dQZEVXbMZAjGMynsQX"},{country:"czech republic",id:"37i9dQZEVXbIP3c3fqVrJY"},{country:"denmark",id:"37i9dQZEVXbL3J0k32lWnN"},{country:"dominican republic",id:"37i9dQZEVXbKAbrMR8uuf7"},{country:"ecuador",id:"37i9dQZEVXbJlM6nvL1nD1"},{country:"el salvador",id:"37i9dQZEVXbLxoIml4MYkT"},{country:"estonia",id:"37i9dQZEVXbLesry2Qw2xS"},{country:"finland",id:"37i9dQZEVXbMxcczTSoGwZ"},{country:"france",id:"37i9dQZEVXbIPWwFssbupI"},{country:"germany",id:"37i9dQZEVXbJiZcmkrIHGU"},{country:"greece",id:"37i9dQZEVXbJqdarpmTJDL"},{country:"guatemala",id:"37i9dQZEVXbLy5tBFyQvd4"},{country:"honduras",id:"37i9dQZEVXbJp9wcIM9Eo5"},{country:"hong kong",id:"37i9dQZEVXbLwpL8TjsxOG"},{country:"hungary",id:"37i9dQZEVXbNHwMxAkvmF8"},{country:"iceland",id:"37i9dQZEVXbKMzVsSGQ49S"},{country:"india",id:"37i9dQZEVXbLZ52XmnySJg"},{country:"indonesia",id:"37i9dQZEVXbObFQZ3JLcXt"},{country:"ireland",id:"37i9dQZEVXbKM896FDX8L1"},{country:"israel",id:"37i9dQZEVXbJ6IpvItkve3"},{country:"italy",id:"37i9dQZEVXbIQnj7RRhdSX"},{country:"japan",id:"37i9dQZEVXbKXQ4mDTEBXq"},{country:"latvia",id:"37i9dQZEVXbJWuzDrTxbKS"},{country:"lithuania",id:"37i9dQZEVXbMx56Rdq5lwc"},{country:"luxembourg",id:"37i9dQZEVXbKGcyg6TFGx6"},{country:"malaysia",id:"37i9dQZEVXbJlfUljuZExa"},{country:"malta",id:"37i9dQZEVXbMD2H5HJqmx9"},{country:"mexico",id:"37i9dQZEVXbO3qyFxbkOE1"},{country:"netherlands",id:"37i9dQZEVXbKCF6dqVpDkS"},{country:"new zealand",id:"37i9dQZEVXbM8SIrkERIYl"},{country:"nicaragua",id:"37i9dQZEVXbISk8kxnzfCq"},{country:"norway",id:"37i9dQZEVXbJvfa0Yxg7E7"},{country:"panama",id:"37i9dQZEVXbKypXHVwk1f0"},{country:"paraguay",id:"37i9dQZEVXbNOUPGj7tW6T"},{country:"peru",id:"37i9dQZEVXbJfdy5b0KP7W"},{country:"philippines",id:"37i9dQZEVXbNBz9cRCSFkY"},{country:"poland",id:"37i9dQZEVXbN6itCcaL3Tt"},{country:"portugal",id:"37i9dQZEVXbKyJS56d1pgi"},{country:"romania",id:"37i9dQZEVXbNZbJ6TZelCq"},{country:"singapore",id:"37i9dQZEVXbK4gjvS1FjPY"},{country:"slovakia",id:"37i9dQZEVXbKIVTPX9a2Sb"},{country:"south africa",id:"37i9dQZEVXbMH2jvi6jvjk"},{country:"spain",id:"37i9dQZEVXbNFJfN1Vw8d9"},{country:"sweden",id:"37i9dQZEVXbLoATJ81JYXz"},{country:"switzerland",id:"37i9dQZEVXbJiyhoAPEfMK"},{country:"taiwan",id:"37i9dQZEVXbMnZEatlMSiu"},{country:"thailand",id:"37i9dQZEVXbMnz8KIWsvf9"},{country:"turkey",id:"37i9dQZEVXbIVYVBNw9D5K"},{country:"united kingdom",id:"37i9dQZEVXbLnolsZ8PSNw"},{country:"united states",id:"37i9dQZEVXbLRQDuF5jeBp"},{country:"vietnam",id:"37i9dQZEVXbLdGSmz6xilI"}],V=function(e){return{type:"ERROR_TOGGLE",payload:e}},k=(r(73),function(e){function t(){var e,r;Object(E.a)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).componentDidMount=function(){r.props.grabToken()},r.searchFieldProcessor=function(){r.props.searchTerm.length<1?r.props.errorToggler("Please enter a country"):(r.props.errorToggler(""),r.props.fetchSongs(r.props.token,r.props.searchTerm),r.props.clearSearchTerm())},r.fetchSongsHandler=function(){r.searchFieldProcessor()},r.searchFieldUpdater=function(e){e.preventDefault(),r.props.updateSearchTerm(e.target.value),r.props.updateCountry(e.target.value)},r.onKeyPress=function(e){"Enter"===e.key&&(e.preventDefault(),r.searchFieldProcessor(),r.props.history.push("/results"))},r}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"ui one column centered grid",id:"search-bar-container"},a.a.createElement("div",{className:"ui icon input"},a.a.createElement("input",{className:"prompt",id:"search-bar",type:"text",placeholder:"Search for a country...",onKeyPress:this.onKeyPress,onChange:this.searchFieldUpdater,value:this.props.searchTerm,required:!0}))),a.a.createElement("div",{className:"ui one column centered grid",id:"search-button-container"},a.a.createElement(l.b,{to:"/results"},a.a.createElement("button",{className:"ui button orange",id:"search-button",onClick:this.fetchSongsHandler},"Search"))))}}]),t}(a.a.Component)),T=Object(s.g)(Object(u.b)(function(e){return{searchTerm:e.searchTerm,token:e.token,error:e.error,tracks:e.tracks}},{fetchSongs:function(e,t){return function(){var r=Object(X.a)(g.a.mark(function r(n){var a,i,c,o,d,u;return g.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(a=t.toLowerCase(),i="",c=0;c<Q.length;c++)Q[c].country===a&&(i=Q[c].id);if(!(i.length<1)){r.next=7;break}n({type:"ERROR_TOGGLE",payload:"Sorry, that country was not found"}),r.next=13;break;case 7:return r.next=9,Z()({method:"get",url:"https://api.spotify.com/v1/playlists/".concat(i,"/tracks"),headers:{authorization:"Bearer "+e},params:{limit:10}});case 9:if(o=r.sent,d=[],0===o.data.items.length)n({type:"ERROR_TOGGLE",payload:"Your search returned no results"});else if(o.data.items.length>0)for(u=0;u<10;u++)d.push(o.data.items[u]);n({type:"FETCH_PLAYLISTS",payload:d});case 13:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},grabToken:function(){return function(){var e=Object(X.a)(g.a.mark(function e(t){var r,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("/spotify-authorization");case 2:r=e.sent,n=r.data,t({type:"GRAB_TOKEN",payload:n});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},clearSearchTerm:function(){return{type:"CLEAR_SEARCH"}},updateSearchTerm:function(e){return{type:"SEARCH_TERM",payload:e}},updateCountry:function(e){return{type:"COUNTRY_SELECTED",payload:e}},errorToggler:V})(k)),w=(r(75),Object(s.g)(Object(u.b)(function(e){return{error:e.error}},{errorToggler:V})(function(e){var t=""!==e.error?a.a.createElement("div",{className:"ui floating warning message warning-message"},a.a.createElement("i",{className:"close icon",onClick:function(){e.errorToggler("")}}),a.a.createElement("div",{className:"header"},e.error)):null;return a.a.createElement("div",{className:"ui one column centered grid",id:"error-container"},t)}))),S=(r(76),function(){return a.a.createElement("div",{className:"ui container",id:"home-container"},a.a.createElement(w,null),a.a.createElement(y,null),a.a.createElement(T,null))}),N=Object(u.b)(function(e){return{searchTerm:e.searchTerm,tracks:e.tracks}},{errorToggler:V})(function(){return a.a.createElement("div",{className:"ui inverted top fixed secondary menu"},a.a.createElement("div",{className:"item"},a.a.createElement(l.b,{to:"/"},a.a.createElement("button",{className:"ui inverted orange button"},"Home"))))}),O=(r(77),Object(s.g)(Object(u.b)(function(e){return{tracks:e.tracks,error:e.error,country:e.countrySearched}})(function(e){var t=e.tracks,r=t.map(function(e){return a.a.createElement("div",{key:e.track.id,className:"ui one column centered grid track-item"},a.a.createElement("div",{className:"row"},a.a.createElement("h3",null,t.indexOf(e)+1)),a.a.createElement("div",{className:"row"},a.a.createElement("p",null,"Artist: ",e.track.artists[0].name)),a.a.createElement("div",{className:"row"},a.a.createElement("p",null,"Track: ",e.track.name)),a.a.createElement("div",{className:"row"},a.a.createElement("iframe",{title:e.track.name,src:"https://embed.spotify.com/?uri=".concat(e.track.uri,"&theme=white&view=coverart"),width:"300",height:"80",frameBorder:"0",allowtransparency:"true"})))});return e.error?a.a.createElement(s.a,{to:"/"}):a.a.createElement("div",{className:"ui container track-list-container"},a.a.createElement(N,null),a.a.createElement("h1",{className:"centered-header"},"".concat(e.country," Top 10 on Spotify")),r)}))),R=function(e){var t=e.store;return a.a.createElement(u.a,{store:t},a.a.createElement(l.a,null,a.a.createElement(s.d,null,a.a.createElement(s.b,{path:"/",exact:!0,component:S}),a.a.createElement(s.b,{path:"/results",component:O}),a.a.createElement(s.b,{component:function(){return a.a.createElement("h1",{className:"ui text container",style:{"text-align":"center"}},"Sorry, that page does not exist.")}}))))},x=Object(o.c)({tracks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYLISTS":return t.payload;default:return e}},searchTerm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_TERM":return t.payload;case"CLEAR_SEARCH":return"";default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GRAB_TOKEN":return t.payload;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_TOGGLE":return t.payload;default:return e}},countrySearched:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COUNTRY_SELECTED":return t.payload;default:return e}}}),j=Object(o.d)(x,Object(o.a)(d.a));c.a.render(a.a.createElement(R,{store:j}),document.querySelector("#root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.212f7d2a.chunk.js.map